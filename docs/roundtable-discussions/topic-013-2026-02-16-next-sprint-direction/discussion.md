# v0.2 後半 Sprint 方向決策

> **話題編號**: topic-013
> **發起日期**: 2026-02-16
> **狀態**: ✅ 已決策
> **相關話題**: [topic-011 品質 Sprint 規劃](../topic-011-2026-02-14-quality-sprint-planning/decision.md)、[topic-010 CM6 選型](../topic-010-2026-02-14-editor-ux-decision/decision.md)、[topic-012 Auto-Update](../topic-012-2026-02-16-auto-update/decision.md)

---

## 📋 議題描述

**背景**:
- 品質 Sprint Q-01~Q-06 全部完成（E2E 環境、Unit Test、CI Pipeline）
- CodeMirror 6 遷移完成（`CodeMirrorEditor.vue`，Spike 路徑 A 確認）
- Auto-Update (T-008) 完成（Windows/Linux，macOS 暫緩）
- CI E2E sandbox 問題由 GitHub 團隊處理中
- Q-07（Jordan 使用回饋收集）原定 2/28，Jordan 今日在場可提前進行

**目標**:
- 決定 v0.2 後半 Sprint 的方向與優先順序

**範圍**:
- ✅ 包含：下一 Sprint 的功能方向、技術尾巴清理、macOS Auto-Update 評估
- ❌ 不包含：具體實作方案（移交技術會議）

---

## 💬 討論記錄

### 第一輪討論 (2026-02-16)

Alex：「好，品質 Sprint Q-01 到 Q-06 全部完成，今天要決定下一個 Sprint 的方向。我的立場是先做 Q-07，把 Jordan 的使用者回饋收集提前跑完。現在產品相對穩定，是聽真實聲音的最好時機——資料進來才知道下一個功能 Sprint 值不值得投資。不過我最擔心的一件事是：我們有沒有辦法在 Q-07 進行的同時，評估一下 Apple Developer 帳號的事？macOS Auto-Update 一直卡著，長期來說是個產品完整性的缺口，想知道 Taylor 和 Sam 覺得這兩件事能不能並行。」

Lisa：「品質 Sprint 做完，我覺得現在是很好的推廣時機——但前提是我們要先把 macOS 問題解決掉。你們知道嗎，Mac 用戶在創作者圈子裡佔比超高，寫作工具如果不支援 macOS Auto-Update，我在對外介紹時會很尷尬。所以我的優先順序很清楚：先評估 Apple Developer 帳號值不值得花那 99 美元。我認為值得——這不只是技術問題，是推廣範圍的問題。Jordan，你的使用回饋收集到什麼了？如果 Mac 用戶抱怨更新體驗，這正好是我需要的數據，可以支持我們決策。」

Jordan：「這兩週最滿意的是打字順暢多了——自動補全括號、Tab 縮排，寫程式碼區塊的時候真的省了不少力氣。語法高亮也讓我校稿比較不容易看漏。最讓我困擾的是，每次想找上週寫過的某個段落，我只能一篇一篇打開來找。文章一多就很花時間，有時候明明記得寫過某個概念，但就是找不到在哪篇。如果只能加一個功能——我想要能搜尋文章內容，不只是標題。就算只有關鍵字搜尋也好，能讓我快速定位到那篇文章，對我的工作流程幫助最大。」

Sam：「等等，先踩個剎車。E2E CI 還沒綠，我們就要往前衝？這讓我很不安——CI 是我們的安全網，網還破著就說沒問題，這說不過去。CM6 才剛上線，我希望至少跑一到兩週，看看 production 有沒有奇怪的問題浮出來。新架構、新 270KB 依賴，穩定期不是可選項。我的條件很簡單：E2E CI 先修好、CM6 穩定一週沒新 bug，再談下一步。不然我們是在沙堆上蓋樓。」

Taylor：「先說結論——CM6 整合有兩個技術尾巴還掛著。Adapter 設計文件是 AI-05 標記的，但現在 v0.2 後半已到，文件狀態呢？還有 wikilink 高亮在 Spike 裡被標成『可選』，就一直沒人碰。這兩個不處理，下一個人接手這塊會很痛苦。下一 Sprint 我的優先順序：一、把 CM6 Adapter 介面定義清楚，寫進文件；二、確認 ObsidianSyntaxService 是要移植還是明確棄用——二選一，不要讓它懸著；三、E2E sandbox 補完。給整個 Sprint 的建議：別急著衝新功能，先把技術尾巴清掉。一次做對，比事後補救省力。」

Alex：「聽到了。Sam 的條件清楚，Taylor 點出了兩個未完成項。Jordan 給了一個很具體的需求——全文搜尋。現在的問題是優先序：技術尾巴 vs 全文搜尋 vs Apple Developer 帳號。大家覺得哪個先？」

---

## 📊 觀點總結（第一輪）

| 角色 | 立場 | 核心論點 |
|------|------|---------|
| PM（Alex） | ⚠️ 條件支持 | 先收 Jordan 回饋（Q-07），同時評估 Apple 帳號 |
| Marketing（Lisa） | ⚠️ 條件支持 | macOS Auto-Update 是推廣前提，$99 值得 |
| User（Jordan） | ✅ 明確需求 | 全文搜尋是最痛點，CM6 體驗已改善 |
| Ops（Sam） | ⚠️ 設前提 | E2E CI 綠 + CM6 穩定一週，才談下一步 |
| CTO（Taylor） | ⚠️ 設前提 | CM6 兩個技術尾巴（Adapter 文件、wikilink 去留）需先清 |

---

## 🤝 共識與分歧

### 共識點
- CM6 帶來明顯體驗提升（Jordan 確認）
- E2E CI 需要補完（Sam + Taylor 一致）
- macOS Auto-Update 缺席是待解問題（Lisa + Alex）

### 主要分歧
- **Sam**：新功能要等 CM6 穩定期後才談
- **Jordan**：全文搜尋需求明確且急迫
- **Taylor**：技術尾巴優先於新功能

### 待釐清問題
- ❓ CM6 Adapter 文件（AI-05）目前實際狀態？
- ❓ wikilink 高亮：移植 or 明確棄用？
- ❓ Apple Developer 帳號：Alex/Lisa 評估時程？
- ❓ 全文搜尋：技術複雜度評估？（移交技術會議）

---

### 第二輪討論 (2026-02-16)

**新資訊**：CI E2E sandbox 問題已交 GitHub 團隊，不卡我們。

Alex：「好，有個更新要先說——E2E CI 的 sandbox 問題已交給 GitHub 團隊處理，不卡我們了。Sam，你的前提條件少了一個。現在剩下的分歧變清楚了：Sam 還在等 CM6 穩定一週，Taylor 要清兩個技術尾巴。這兩件事是擋住全文搜尋的真正障礙嗎？還是可以同步進行？Taylor，Adapter 文件和 wikilink 高亮——哪個比較快結？」

Sam：「好，E2E 不卡我們，這點我接受。但 CM6 穩定一週的條件我還是堅持——編輯器核心不穩，搜尋的索引機制根本沒有可靠基礎。全文搜尋聽起來簡單，維運成本不低：索引要怎麼存？要不要背景重建？crash 怎麼 recover？這些要想清楚再動手，不然上線後我在接 oncall。」

Taylor：「全文搜尋技術上不複雜——本地 markdown，用 Node.js `fs` 讀檔、正規表達式掃關鍵字，不需要搜尋引擎，兩到三天能出原型。CM6 的尾巴跟搜尋完全沒有依賴關係，可以並行。建議讓一個人清 CM6 尾巴，另一個人開搜尋的 feature branch。唯一要注意：搜尋結果跳到對應段落，要確認 CM6 的 scroll-to API 穩不穩定。如果 CM6 那側還在動，搜尋的跳轉先留 stub。」

Lisa：「全文搜尋直接影響 Jordan 這類用戶的留存，行銷上比 Auto-Update 更有說服力——功能好用才有口碑。Auto-Update 是分發品質，全文搜尋是產品價值。我希望先出全文搜尋、快速收集用戶反應，再用 macOS 正式上架做第二波行銷。先留住人，再擴大觸及。」

Jordan：「全文搜尋真的很急，我每天至少遇到兩三次——寫完一篇想找之前某個論點，就只能一篇一篇翻，超花時間。macOS Auto-Update 的話，我確實用 Mac，但說真的，我不會因為更新通知而換工具。搜尋功能才是我每天都在痛的點。」

Alex：「好，分歧收斂了。Taylor 說 CM6 尾巴和搜尋可以並行，Sam 的唯一剩餘條件是 CM6 穩定一週。Jordan 每天痛三次，Lisa 說先留人再擴大觸及。我覺得可以進決策了——大家準備好嗎？」

---

## 📊 觀點總結（第二輪）

| 角色 | 立場 | 核心論點 |
|------|------|---------|
| PM（Alex） | ✅ 可進決策 | 分歧收斂，準備決策 |
| Marketing（Lisa） | ✅ 全文搜尋優先 | 先留住人，再擴大觸及（搜尋 → macOS Auto-Update） |
| User（Jordan） | ✅ 強烈支持搜尋 | 每天 2~3 次痛點，比 Auto-Update 更迫切 |
| Ops（Sam） | ⚠️ 條件：CM6 穩定一週 | E2E 前提解除，但 CM6 穩定期維持 |
| CTO（Taylor） | ✅ 並行可行 | CM6 尾巴和搜尋無依賴，可同步進行；scroll-to 整合先留 stub |

## 🤝 共識（第二輪後）

- 全文搜尋是下一個核心功能（Jordan 每日痛點，Lisa 認同產品價值優先）
- CM6 技術尾巴與搜尋功能可並行
- macOS Auto-Update 排第二波（Lisa 確認）
- **唯一分歧**：Sam 堅持 CM6 穩定一週後才開搜尋功能

---

### 第三輪討論 (2026-02-16)

**新議題**：全文搜尋與文章間連結功能的關係？分開還是一起討論？

Taylor：「兩個有復用空間，但不是直接共用。全文搜尋需要倒排索引（token → 文章列表），文章間連結需要正向圖（A → B）和反向圖（誰引用了 A）。如果搜尋階段就把每篇文章的 wikilink 一起解析出來存進去，之後建連結圖基本不用重掃檔案。所以：先做搜尋時，順手把連結關係也抓出來，資料結構分開存，但共用同一次全量掃描。」

Jordan：「wikilink 我知道，Obsidian 用過。老實說，我現在更需要的是搜尋——常常記得寫過某個概念，但不知道在哪篇，這個最痛。連結功能很酷，但要我自然用起來，得先對自己的文章庫夠熟。搜尋先做，連結之後再說。」

Alex：「我建議分開討論。全文搜尋是解決 Jordan 現在痛點的緊急需求，優先級高、範圍清楚。文章間連結是知識網絡的長期建設，概念更複雜、影響架構更深，混在一起容易失焦。先交付搜尋，讓使用者有感，再規劃連結功能。」

Lisa：「文章間連結對行銷故事很有力——可以說『不只是編輯器，是你的個人知識庫』。這是 Obsidian 用戶懂的語言，也是我們和普通 Markdown 編輯器最直接的差異點。但這個敘事需要功能真的做好，不能只是噱頭。」

Sam：「有影響，而且是正面的。全文搜尋要建索引，文章間連結未來也需要解析 wikilink 並維護反向連結表。索引架構設計時若有考慮可擴充性，之後做連結功能的維運成本會低很多。所以搜尋的索引設計值得多想一步。」

Alex：「清楚了。結論是：全文搜尋現在做，文章間連結另開圓桌。但 Taylor 和 Sam 都說索引設計時要預留擴充空間——這個移交技術會議確認。可以進決策了嗎？」

## 📊 觀點總結（第三輪）

| 角色 | 立場 | 核心論點 |
|------|------|---------|
| PM（Alex） | ✅ 分開討論 | 搜尋緊急可交付，連結複雜影響架構，混在一起失焦 |
| Marketing（Lisa） | ✅ 連結是長期敘事 | 「個人知識庫」是差異化行銷點，但要做好才能說 |
| User（Jordan） | ✅ 搜尋優先 | 連結功能需先熟悉文章庫才會自然使用，搜尋更急 |
| Ops（Sam） | ✅ 索引設計要預留 | 全量掃描可共用，索引結構若有擴充性，連結維運成本低 |
| CTO（Taylor） | ✅ 共用掃描，分開儲存 | 搜尋時順手抓 wikilink，資料結構分開但共用一次掃描 |

## 🤝 第三輪共識

- **全文搜尋**：本次 Sprint 做，索引設計預留 wikilink 擴充空間
- **文章間連結**：另開圓桌討論（topic-014）
- **技術移交**：索引架構設計移交技術會議，確認可擴充性
