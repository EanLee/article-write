# 下一個 Sprint 方向決策：品質鞏固 vs 功能擴展

> **話題編號**: topic-011
> **發起日期**: 2026-02-14
> **狀態**: ✅ 已決策
> **相關話題**: [topic-008](../topic-008-2026-02-14-sprint-retro/decision.md)、[topic-009](../topic-009-2026-02-14-ux-review/decision.md)

---

## 📋 議題描述

**背景**：
- v0.1 MVP 全部完成：F-01~F-05 核心功能、I-01~I-05 基礎設施、UX-01~UX-04 體驗修復、UX-02 CodeMirror 6 遷移（Jordan 驗收通過）
- Jordan 剛完成驗收，尚未回報實際使用的新痛點
- 目前 UI 層幾乎零 Playwright E2E 測試，技術債顯著
- CLAUDE.md 明文要求所有 `.vue` 變更需有對應 E2E 測試，但歷史開發一直未落實

**目標**：
- 決定 v0.2 Sprint 的主要方向

**範圍**：
- ✅ 包含：Sprint 方向選擇（品質 / 功能 / 等待回饋）
- ❌ 不包含：具體測試實作細節（技術會議處理）

---

## 💬 討論記錄

### 第一輪討論 (2026-02-14)

#### 🎯 PM (Alex) 的觀點

**立場**：✅ 支持品質 Sprint

**理由**：
1. Jordan 剛驗收完 v0.1，需要一段時間實際使用才能產生有價值的功能回饋
2. 在等待回饋的空窗期，做品質鞏固是最高效的資源運用
3. 沒有測試保護的情況下繼續加功能，每次變更都是在走鋼索——一旦出問題，定位成本很高

**具體建議**：
- 這個 Sprint 不加新功能，專注補齊測試保護網
- 為下個 Sprint（功能 Sprint）打好地基

**潛在風險/機會**：
- 風險：測試補全工程量可能低估，尤其 Electron E2E 環境設定複雜
- 機會：補完測試後，未來每個功能 PR 都有保護，開發速度反而加快

**優先級評估**：P0（本 Sprint 核心目標）

---

#### 📢 Marketing (Lisa) 的觀點

**立場**：✅ 支持品質 Sprint

**理由**：
1. 對外推廣的前提是產品穩定——如果功能多但時常出 Bug，口碑會受損
2. Jordan 是目前唯一深度使用者，等他的回饋比猜功能需求更精準
3. 「品質 Sprint」本身也是一個很好的對外訊息：「我們重視工程品質」

**具體建議**：
- 這段時間可以同步整理 Jordan 的使用故事，為下個功能 Sprint 備料

**優先級評估**：P1

---

#### 👤 User (Jordan) 的觀點

**立場**：✅ 支持品質 Sprint

**理由**：
1. 身為使用者，我更怕的是「已經能用的東西壞掉」，而不是「缺少新功能」
2. v0.1 能跑了，我需要時間真正融入工作流，才能給出有意義的功能需求
3. 有測試保護的系統讓我更有信心長期使用

**具體建議**：
- 讓我先用 1~2 週，期間出現問題我會回報

**優先級評估**：P1

---

#### 🔧 Ops (Sam) 的觀點

**立場**：✅ 支持品質 Sprint（強烈）

**理由**：
1. 目前沒有 E2E 測試，每次部署我都不知道使用者端到底跑不跑得起來
2. Electron 應用的測試環境比 Web 複雜，越早建立越好，越晚越難補
3. 從維運角度，測試是「保險」——保費越早繳越划算

**具體建議**：
- Playwright 測試應涵蓋至少三個核心 Happy Path（開啟文章→編輯→AutoSave、同步到 Blog、設定路徑）
- 測試穩定後考慮加入 CI Pipeline

**潛在風險**：
- Electron + Playwright 的設定有坑，需要預留 debug 時間

**優先級評估**：P0

---

#### 💻 CTO (Taylor) 的觀點

**立場**：✅ 支持品質 Sprint

**理由**：
1. CLAUDE.md 已明文規定 UI 測試規範，但歷史上一直在欠債——這個 Sprint 是還債的機會
2. CodeMirror 6 遷移後，編輯器的行為複雜度大增，沒有 E2E 保護的話下次改動會很危險
3. 技術債有複利效應：越晚還，後期成本越高

**技術評估**：
- Playwright + Electron 的整合已有成熟方案（`playwright-electron` 或 `@playwright/test` + `--inspect-brk`）
- Unit Test 覆蓋率目前 Service 層尚可，但 Store 層偏低
- 估計此 Sprint 工量：Playwright 環境設定（1 天）+ 核心場景測試（3~4 天）+ Store 層補強（1~2 天）= 約 1 週

**潛在風險**：
- Electron E2E 在 CI 環境需要虛擬顯示器（`xvfb`），Linux CI 設定需要額外工時

**優先級評估**：P0

---

### 第二輪討論（跨角色回應）

**Sam 回應 Taylor**：CI 整合我來負責。如果 Playwright 跑通了，`xvfb` 的設定我可以在 ops 層面處理。

**Alex 回應 Jordan**：沒問題，給你時間沉浸使用。等你兩週後有具體感受，我們再開圓桌收集功能需求，排下下個 Sprint。

**Taylor 補充**：這個 Sprint 同時也是一個好機會讓 Lin 熟悉 E2E 測試寫法——之後每個功能都要配套測試，這是技能投資。

---

## 📊 觀點總結

| 角色 | 立場 | 核心論點 |
|------|------|---------|
| PM (Alex) | ✅ 支持 | 空窗期最高效利用；為功能 Sprint 打地基 |
| Marketing (Lisa) | ✅ 支持 | 穩定是口碑前提；等精準回饋再加功能 |
| User (Jordan) | ✅ 支持 | 怕壞掉已有功能；需要時間沉浸使用 |
| Ops (Sam) | ✅ 強烈支持 | 無測試等於無保障；越早建立成本越低 |
| CTO (Taylor) | ✅ 支持 | 還技術債；CM6 遷移後需要保護網 |

---

## 🤝 共識與分歧

### 共識點
- 品質 Sprint 是現階段最高投資報酬率的選擇
- Jordan 需要使用時間才能給出有價值的功能回饋
- Playwright E2E 是此 Sprint 的核心目標

### 主要分歧
- 無實質分歧，全體一致

### 待釐清問題（技術會議處理）
- ❓ Playwright + Electron 具體整合方案（Taylor + Lin 技術會議決定）
- ❓ 哪些 Happy Path 優先？（Taylor 提議的三個場景是否足夠）
- ❓ CI Pipeline 整合時間點（此 Sprint 內 or 下個 Sprint）

---

## ✅ Action Items 摘要

| # | 行動項目 | 負責人 |
|---|---------|-------|
| 1 | 建立 Playwright + Electron 測試環境 | Lin |
| 2 | 撰寫三個核心 Happy Path E2E 測試 | Lin |
| 3 | 補強 Store 層 Unit Test | Lin |
| 4 | 評估 CI Pipeline 整合可行性 | Sam |
| 5 | 收集 Jordan 使用回饋（2 週後） | Alex |
