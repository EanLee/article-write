# 討論記錄：AI API 串接評估

> **話題編號**: topic-014
> **發起日期**: 2026-02-16
> **主持人**: Alex（PM）
> **狀態**: ✅ 已決策

---

## 議題說明

評估在 WriteFlow 內串接 AI API，提供以下功能：
1. **文章檢視與撰寫建議** — 分析文章品質，指出不足或需要加強之處
2. **SEO 輔助生成** — 自動建議 Slug、Meta Description、Keywords

---

## 專案現況（發起前確認）

- **版本**：v0.2 Sprint 進行中
- **已完成**：全文搜尋（T-009 ✅）、Auto-Update（T-008 ✅）、CI/CD（T-003 ✅）
- **進行中**：CM6 wikilink 高亮（S-02）、CM6 Adapter 文件（S-03）
- **分支**：`feature/s01-full-text-search`

---

## 討論記錄

### 第一輪：開場與初步立場（2026-02-16）

Alex：「各位，今天叫大家來討論一個新方向——在 WriteFlow 整合 AI API。我們發現 Jordan 的主痛點不只是搜尋，還有內容品質和 SEO。他寫文章花一堆時間，最後還要手寫 Slug、Meta Description 這些。我的問題是：**如果我們提供 AI 檢視建議和自動生成 SEO 欄位，Jordan 願意付費嗎？ROI 是多少？** 另外——**API 成本**。如果每篇文章要呼叫 AI 三次以上，費用是多少？免費版階段誰買單？這直接影響要不要做、什麼時候做。讓我聽聽大家的看法。」

Lisa：「我覺得這個功能太關鍵了！技術部落客最痛的點就是寫完文章，還要自己挖關鍵字、寫 SEO 描述——超煩的。如果 WriteFlow 能幫他們自動生成，直接就是「一鍵發布優化版本」。市面上編輯器很多，但有誰把『寫作 + 質量檢視 + SEO 最佳化』一條龍整合的？這就是我們的 USP。我建議不要講「AI 功能」，要講『從初稿到發布只需五分鐘』——這樣能上 Product Hunt，而且會吸引那些在意 SEO 流量的部落客。」

Jordan：「老實說——SEO 那塊反而沒我想像的痛，Meta Description 我通常花個三五分鐘就寫好，Slug 更簡單。但**文章檢視和建議**我確實想要，每次發完都在想有沒有漏掉什麼，要是能自動告訴我「這段邏輯不夠清楚」或「這個標題太籠統」會超有幫助。最怕的是什麼？AI 功能又慢又不準，每次還要手動校正，那根本是增加工作量。簡單說，先給我能用、準確率夠高的核心功能，別一次堆一堆讓我選。」

Sam：「先停一下，我得問幾個維運問題。**API Key 要怎麼管理？** 存在本地很危險，一旦被反編譯就完蛋了。使用者自帶 API Key 可以，但要做好文件。再來，AI API 的穩定性能保證嗎？如果掛了，會不會拖累離線編輯功能？我的立場是審慎支持，但有三個條件：一，API Key 必須走加密儲存；二，要有 Fallback 機制，API 失敗不影響核心編輯體驗；三，用戶資料不能明文上傳到第三方。只要把這些釐清楚，我才敢放上生產環境。穩定壓倒一切。」

Taylor：「從架構角度，我建議採用 **Adapter 模式**——抽象出一個 `IAIProvider` 介面，讓底層能支援 Claude、OpenAI 或使用者自帶的 API Key，這樣不被單一廠商綁死。具體來說，新增 `src/services/AIService.ts`，透過 Electron IPC 與渲染程序通訊——API Key 留在 Main Process，安全性更好。我的建議是先用 Claude API 作為預設，因為我們熟悉，但架構得可替換。好的架構是演進出來的，先快速實現核心邏輯，再逐步優化。」

---

### 第二輪：BYOK vs 平台 Key、功能優先順序、AI 準確性（2026-02-16）

Alex：「我聽到大家的顧慮，特別是 Jordan 對準確性的擔心。根據 RICE 評分和使用者價值，我傾向 **BYOK 模式為主、我們提供 Demo Key 為輔**。原因是：BYOK 降低我們的成本和法律風險，使用者自己管理密鑰更安心。功能優先順序上，我認為 **先做文章檢視建議，後做 SEO 生成**——文章檢視是直接的 pain point，但前提是 Jordan 的準確性問題必須先解決。」

Jordan：「BYOK 符合我的習慣，我可以接受。但準確性這件事是紅線——AI 建議不準，我反而要花更多時間驗證，就失去效率了。我可以接受的條件：**建議要讓我知道可信度高不高**；**允許我否決或標記無用的建議**；還有——**給我選項把 AI 輔助關掉**。如果這些都能做到，我願意試試文章檢視功能。」

Sam：「BYOK 我支持，但安全要求是必須的：API Key 加密儲存、不能明文存檔；**Fallback 機制必備**——API 掛掉，核心編輯體驗不受影響；**文章內容絕對不能明文上傳到第三方**，只能發送必要的抽象資訊；最好加上 Sentry 監控 API 失敗率。這些到位，技術上完全可行。」

Taylor：「從架構角度，Adapter 模式的好處在這裡很明顯——定義 `IAIProvider` 介面，Claude、OpenAI、甚至本地模型都能插拔，換廠商不用改業務邏輯。優先順序我建議 **先做文章建議**——它是功能核心，而且可以先用簡單規則驗證，再用 AI 加強。SEO 生成反而是衍生應用，先核心再擴展，風險更可控。」

Lisa：「等等，我要說不同意見！從推廣角度，『自動生成 SEO Slug、Keywords』這個故事更容易打動目標受眾——內容創作者最在乎 Google 排名，這是具體可量化的東西。『寫得更好』這種承諾太虛了，SEO 比較容易在推廣素材上說清楚。我的建議是 SEO 功能先做，更容易帶來第一波關注。」

---

### 第三輪：最終決策輪（2026-02-16）

Taylor：「我認為我們有能力同時做兩個功能，但確實有先後。從技術角度看，SEO 生成是更獨立的模組，可以快速驗證 BYOK 架構。文章建議的複雜度更高，但長期價值更大。建議分階段實作。」

Lisa：「好的，我能接受分階段做。如果 Phase 1 先做 SEO 生成，我們可以快速推出新聞稿『WriteFlow 新增 AI SEO 助手』，獲得初期市場關注。Phase 2 做文章建議時再做第二波推廣，這樣更有節奏感。」

Jordan：「只要 SEO 生成是真的能用，能幫我自動填 Slug 和描述，我就滿意。最重要的是要穩定，不要一個月壞一次。」

Sam：「技術架構層面我有建議：Adapter 模式很好，但 API Key 加密存儲、Fallback 機制、完整監控這三項是非協商的。我需要看到 Sentry 錯誤追蹤、健康檢查和自動降級方案。」

Alex：「好的，我來做最終決策。我們的方向是：**分兩個 Phase 實施 AI 整合**。Phase 1（本 Sprint）先實作 **SEO 生成功能**，使用 BYOK + Demo Key 方案，建立 IAIProvider Adapter 架構。Phase 2（下個 Sprint）實作 **文章建議功能**。架構上完全採用 Adapter 模式，API Key 加密存儲，必須有完整的 Fallback 機制和 Sentry 監控。這樣既滿足 Lisa 的推廣節奏，也不讓 Jordan 和使用者體驗失望，同時符合 Taylor 和 Sam 對技術品質的要求。下個步驟是 Taylor 和 Sam 一起設計 API 層架構文件，提交 T-XXX 技術設計文件。」

