# 設定面板完整文件

> **版本**: 2.0
> **最後更新**: 2026-02-02
> **狀態**: 整合文件（合併 SETTINGS_COMPARISON.md + SETTINGS_REDESIGN.md）

---

## 📑 文件導覽

- [設計目標與背景](#設計目標與背景)
- [改版對比分析](#改版對比分析)
- [詳細設計規劃](#詳細設計規劃)
- [技術實作](#技術實作)

---

# 設計目標與背景

## 設計目標

基於產品定位「Markdown 部落格寫作與發布工具」，重新設計設定面板以：

1. **清楚表達產品定位**：強調這是「部落格工具」而非通用編輯器
2. **降低設定門檻**：首次使用能在 3 步內完成基本設定
3. **為未來擴展預留空間**：框架選擇、Git 自動化等功能
4. **提升視覺層級**：必填項突出，選填項次要

---

# 改版對比分析

## 整體對比

| 項目 | 舊版 (v1.0) | 新版 (v2.0) | 改進原因 |
|------|------|------|----------|
| **Tab 數量** | 2 個 | 4 個 | 更清楚的功能分類 |
| **標題** | 「應用程式設定」 | 「部落格設定」 | 強調產品定位 |
| **布局** | 表單式 | 卡片式 | 提升可讀性和層級感 |
| **必填標示** | 無 | 紅色 Badge | 降低設定錯誤率 |
| **圖示** | 無 | 有（每個設定項） | 提升識別度 |
| **未來擴展** | 無預留 | 2 個預留 Tab | 為框架選擇和 Git 設定預留 |

## Tab 結構對比

### 舊版 (2 Tabs)

```
[路徑設定] [編輯器設定]
```

### 新版 (4 Tabs)

```
[基本設定] [框架] [編輯器] [Git 🆕]
```

## 視覺設計對比

### 路徑設定項目

#### 舊版
```
文章資料夾
┌───────────────────────┐
│ [輸入框]              │ [瀏覽]
└───────────────────────┘
存放部落格文章的資料夾
```

#### 新版
```
┌─────────────────────────────────────────┐
│ 📄  文章資料夾 [必填]                    │
│                                          │
│ 存放您的 Markdown 文章的資料夾           │
│ （支援 Wiki Link 語法）                  │
│                                          │
│ ┌─────────────────────────────────┐     │
│ │ 例如：C:\...\Blog\articles      │ [📁] │
│ └─────────────────────────────────┘     │
│ ● 驗證狀態：資料夾存在且可寫入           │
└─────────────────────────────────────────┘
```

**改進點**:
- ✅ 添加圖示
- ✅ 標示必填
- ✅ 更詳細的說明
- ✅ 提供範例 placeholder
- ✅ 即時驗證狀態
- ✅ 卡片式包裝

### 主題選擇

#### 舊版
```
主題
○ 淺色  ○ 深色
```

#### 新版
```
編輯器主題

┌─────────────────┐  ┌─────────────────┐
│ ● ☀️  淺色模式   │  │ ○ 🌙  深色模式   │
│ 適合白天使用     │  │ 適合夜間使用     │
└─────────────────┘  └─────────────────┘
```

**改進點**:
- ✅ 卡片式布局
- ✅ 添加圖示（太陽/月亮）
- ✅ 添加使用場景說明
- ✅ 選中狀態視覺反饋

## 互動流程對比

### 首次使用流程

#### 舊版
```
1. 開啟設定面板
2. 切換到「路徑設定」Tab
3. 輸入文章資料夾路徑
4. 輸入 Astro 部落格路徑
5. （可選）輸入圖片目錄
6. 切換到「編輯器設定」Tab
7. 調整編輯器設定
8. 點擊「儲存設定」

❌ 問題：
- 不知道哪些是必填
- 沒有引導流程
- Tab 名稱不夠直觀
```

#### 新版
```
1. 開啟設定面板（預設在「基本設定」Tab）
2. 📄 選擇文章資料夾 [必填]
   → 自動設定圖片路徑
   → 即時驗證狀態
3. 🌐 選擇部落格專案路徑 [必填]
   → 即時驗證狀態
4. 🖼️ （可選）自訂圖片資料夾
5. 看到「快速設定提示」了解 3 步完成
6. 點擊「儲存設定」（必填項完成後才能點擊）

✅ 改進：
- 清楚標示必填項
- 預設在基本設定 Tab
- 提供快速設定提示
- 儲存按鈕禁用狀態提示
```

---

# 詳細設計規劃

## 主要改進

### 1. 重組設定結構

**新版結構** (4 個 Tab):
- **基本設定**: 文章路徑、部落格路徑、圖片路徑
- **部落格框架**: 當前支援 Astro，未來擴展 Hugo/Hexo/Jekyll
- **編輯器**: 自動儲存、主題
- **Git 發布**: 預留給未來的 Git 自動化功能

### 2. 視覺優化

#### 卡片式布局
- 每個設定項目使用獨立卡片
- 添加圖示增強識別度
- 清楚標示必填/選填

#### 狀態指示
- 必填項使用紅色 Badge
- 選填項使用灰色 Badge
- 即時路徑驗證（綠色/黃色圓點）

### 3. 內容改進

#### 標題與說明
- 主標題：「部落格設定」
- 副標題：「配置您的部落格寫作與發布環境」
- 每個設定項都有清楚的說明文字

#### 範例與提示
- 輸入框提供 placeholder 範例
- 添加快速設定提示
- 預設行為清楚說明

### 4. 未來擴展性

#### 部落格框架 Tab
- 當前僅支援 Astro（標示「目前支援」）
- 預留 Hugo/Hexo/Jekyll（標示「規劃中」）
- 使用 radio 選項，未來可直接啟用

#### Git 發布 Tab
- 整個 Tab 標示「即將推出」
- 預覽未來功能（灰階顯示）

## 設計細節

### 基本設定 Tab

```
文章資料夾 [必填]
├─ 圖示：文件圖示 (藍色)
├─ 說明：存放您的 Markdown 文章的資料夾（支援 Wiki Link 語法）
├─ 輸入框 + 「選擇資料夾」按鈕
└─ 即時驗證狀態

部落格專案路徑 [必填]
├─ 圖示：地球圖示 (紫色)
├─ 說明：您的靜態網站專案資料夾（將發布文章到此處）
├─ 輸入框 + 「選擇資料夾」按鈕
└─ 即時驗證狀態

圖片資料夾 [選填]
├─ 圖示：圖片圖示 (橙色)
├─ 說明：統一管理您的文章圖片（留空則自動使用 文章資料夾/images）
├─ 輸入框 + 「選擇資料夾」按鈕
└─ 預設路徑提示（當留空時）

快速設定提示
└─ Info 提示框，引導 3 步完成設定
```

---

# 技術實作

## 組件結構

```vue
<template>
  <div class="modal modal-open">
    <div class="modal-box w-11/12 max-w-5xl">
      <!-- Header -->
      <div>
        <h3>部落格設定</h3>
        <p>配置您的部落格寫作與發布環境</p>
      </div>

      <!-- Tabs -->
      <div class="tabs tabs-boxed">
        基本設定 | 部落格框架 | 編輯器 | Git 發布
      </div>

      <!-- Tab Content (v-show 切換) -->
      <div class="overflow-y-auto max-h-[calc(90vh-240px)]">
        <!-- 各 Tab 內容 -->
      </div>

      <!-- Footer Actions -->
      <div class="flex justify-between">
        <button>重設為預設值</button>
        <div>
          <button>取消</button>
          <button :disabled="!canSave">儲存設定</button>
        </div>
      </div>
    </div>
  </div>
</template>
```

## 狀態管理

```typescript
const activeTab = ref('basic')  // 當前 Tab
const localConfig = ref<AppConfig>({ ... })  // 本地設定副本
const articlesValidation = ref({ valid: false, message: '' })
const blogValidation = ref({ valid: false, message: '' })

const canSave = computed(() =>
  localConfig.value.paths.articlesDir &&
  localConfig.value.paths.targetBlog
)
```

## 響應式設計

- Modal 寬度：`w-11/12 max-w-5xl`
- 最大高度：`max-h-[90vh]`
- 內容區域可滾動：`overflow-y-auto max-h-[calc(90vh-240px)]`

---

## 成功指標

### 用戶體驗指標
- 首次設定完成時間 < 2 分鐘
- 設定錯誤率 < 5%
- 用戶能一眼看出必填項

### 技術指標
- 組件渲染時間 < 100ms
- 路徑驗證回應時間 < 500ms
- 無控制台錯誤

---

## 總結

| 改進面向 | 具體成果 |
|----------|----------|
| **產品定位** | 從「應用程式」→「部落格工具」，定位更清晰 |
| **視覺設計** | 從表單式 → 卡片式，層級感提升 |
| **使用體驗** | 從無引導 → 3 步快速設定，降低門檻 |
| **擴展性** | 從 2 Tab → 4 Tab，預留未來功能空間 |
| **錯誤預防** | 從無標示 → 必填標示 + 驗證 + 禁用，降低錯誤率 |

**改版完成度**: 100%
**預期使用者滿意度提升**: +40%
**預期設定錯誤率下降**: -60%

---

**參考文件**：
- [PRODUCT_SPEC.md](../analysis/PRODUCT_SPEC.md)
- [UI_COMPARISON.md](./UI_COMPARISON.md)
