# 功能測試指南

本文檔提供所有新功能的測試步驟與預期結果。

---

## 🚀 啟動應用

```bash
pnpm run dev
```

等待開發伺服器啟動後，應用會自動在瀏覽器中開啟。

---

## ✅ 測試清單

### 1️⃣ UI 改善測試

#### A. 文章列表選中狀態

**測試步驟**:
1. 開啟應用，查看左側文章列表
2. 點擊任一文章

**預期結果**:
- ✅ 選中的文章有**明顯的左側粗藍色邊框**
- ✅ 選中的文章有**淺藍色背景**
- ✅ 選中的文章標題**加粗並變為藍色**
- ✅ 未選中的文章有細灰色邊框
- ✅ hover 未選中文章時，邊框變色

**截圖位置**: 注意左側文章列表的視覺變化

---

#### B. 編輯器工具列

**測試步驟**:
1. 開啟任一文章進入編輯器
2. 查看編輯器頂部工具列
3. 將滑鼠懸停在各個按鈕上

**預期結果**:
- ✅ 工具列使用**圖標按鈕**而非純文字
- ✅ hover 時顯示 **tooltip 說明**
- ✅ 按鈕之間有**分隔線**區分功能組
- ✅ 小螢幕時隱藏按鈕文字，僅顯示圖標

**Tooltip 測試**:
- 「☰」按鈕 → "隱藏 Frontmatter" 或 "顯示 Frontmatter"
- 「✏️」按鈕 → "編輯前置資料"
- 「👁」按鈕 → "顯示預覽 (Ctrl+/)" 或 "隱藏預覽 (Ctrl+/)"

---

#### C. 儲存狀態指示器

**測試步驟**:
1. 在編輯器中修改文章內容
2. 觀察儲存狀態變化
3. 等待自動儲存完成

**預期結果**:
- ✅ 修改內容後顯示 **「✏️ 未儲存」**（黃色背景+邊框）
- ✅ 儲存中顯示 **「⟳ 儲存中...」**（藍色背景，圖標旋轉）
- ✅ 儲存完成顯示 **「✓ 已儲存」**（綠色背景+邊框）
- ✅ 顯示**最後儲存時間**（例如：「2 秒前儲存」）
- ✅ 未儲存時，**儲存按鈕變為黃色**

**手動儲存測試**:
- 按 `Ctrl+S` 或點擊「儲存」按鈕
- 應立即觸發儲存

---

### 2️⃣ Undo/Redo 功能測試

#### A. 基本撤銷

**測試步驟**:
1. 在編輯器中輸入一些文字：「測試撤銷功能」
2. 等待 1 秒（讓歷史記錄生效）
3. 繼續輸入：「第二行文字」
4. 等待 1 秒
5. 按 `Ctrl+Z`

**預期結果**:
- ✅ 「第二行文字」被移除
- ✅ 游標位置恢復到輸入「第二行文字」之前

**繼續測試**:
6. 再按一次 `Ctrl+Z`
7. 應該連「測試撤銷功能」也被移除

---

#### B. 重做

**測試步驟**:
1. 接續上面的測試，按 `Ctrl+Shift+Z`

**預期結果**:
- ✅ 「測試撤銷功能」重新出現
- ✅ 游標位置正確

---

#### C. 撤銷後修改

**測試步驟**:
1. 輸入：「A」
2. 等待 1 秒
3. 輸入：「B」
4. 等待 1 秒
5. 按 `Ctrl+Z`（移除 B）
6. 輸入：「C」
7. 嘗試按 `Ctrl+Shift+Z`

**預期結果**:
- ✅ 步驟 7 無效（因為在撤銷後修改了內容，重做歷史被清除）
- ✅ 最終內容為：「AC」

---

### 3️⃣ 搜尋/替換功能測試

#### A. 開啟搜尋面板

**測試步驟**:
1. 按 `Ctrl+F`

**預期結果**:
- ✅ 編輯器上方出現**搜尋面板**
- ✅ 搜尋輸入框自動 **focus**
- ✅ 顯示搜尋選項按鈕：`Aa`（大小寫）、`.*`（正則）、`ab`（全字）

---

#### B. 基本搜尋

**測試步驟**:
1. 在編輯器中輸入以下內容：
   ```
   Vue 是一個前端框架
   React 也是前端框架
   vue 和 react 都很流行
   ```
2. 在搜尋框輸入：`vue`

**預期結果**:
- ✅ 顯示匹配數量：**「2/2」**或「2 個匹配」
- ✅ 第一個 `vue` 被**選取高亮**
- ✅ 自動**滾動到匹配位置**

---

#### C. 導航匹配

**測試步驟**:
1. 接續上面的測試
2. 按 `Enter` 或點擊「↓」按鈕

**預期結果**:
- ✅ 跳到下一個匹配（第三行的 `vue`）
- ✅ 匹配計數變為：**「2/2」**

3. 按 `Shift+Enter` 或點擊「↑」按鈕

**預期結果**:
- ✅ 跳回上一個匹配
- ✅ 匹配計數變為：**「1/2」**

---

#### D. 區分大小寫

**測試步驟**:
1. 搜尋框輸入：`Vue`
2. 點擊 `Aa` 按鈕（啟用區分大小寫）

**預期結果**:
- ✅ 只匹配**大寫開頭的 Vue**
- ✅ 匹配數量變為：**「1 個匹配」**

---

#### E. 正則表達式搜尋

**測試步驟**:
1. 搜尋框輸入：`vue|react`
2. 點擊 `.*` 按鈕（啟用正則表達式）

**預期結果**:
- ✅ 匹配所有的 `vue` 和 `react`
- ✅ 顯示多個匹配

---

#### F. 全字匹配

**測試步驟**:
1. 在編輯器中輸入：`vue vueuse`
2. 搜尋框輸入：`vue`
3. 點擊 `ab` 按鈕（啟用全字匹配）

**預期結果**:
- ✅ 只匹配獨立的 `vue`
- ✅ **不匹配** `vueuse` 中的 `vue`

---

#### G. 單個替換

**測試步驟**:
1. 編輯器內容：`Vue Vue Vue`
2. 搜尋：`Vue`
3. 點擊替換按鈕（🔄）展開替換列
4. 替換框輸入：`React`
5. 點擊「替換」按鈕

**預期結果**:
- ✅ **第一個** `Vue` 被替換為 `React`
- ✅ 其他的 `Vue` 保持不變
- ✅ 匹配數量更新

---

#### H. 全部替換

**測試步驟**:
1. 編輯器內容：`Vue Vue Vue`
2. 搜尋：`Vue`
3. 替換框輸入：`React`
4. 點擊「全部替換」按鈕

**預期結果**:
- ✅ 顯示確認對話框：**「確定要替換全部 3 個匹配項嗎？」**
- ✅ 確認後，**所有的** `Vue` 都被替換為 `React`
- ✅ 內容變為：`React React React`

---

#### I. 關閉搜尋

**測試步驟**:
- 按 `Esc` 或點擊「✕」按鈕

**預期結果**:
- ✅ 搜尋面板關閉
- ✅ 選取高亮消失

---

### 4️⃣ 編輯器狀態列測試

#### A. 游標位置顯示

**測試步驟**:
1. 在編輯器中輸入：
   ```
   第一行
   第二行
   第三行
   ```
2. 將游標移到第二行的第 5 個字元

**預期結果**:
- ✅ 狀態列顯示：**「第 2 行，第 5 列」**

---

#### B. 字數統計

**測試步驟**:
1. 輸入以下內容：
   ```
   這是一篇測試文章
   This is a test
   ```

**預期結果**:
- ✅ 狀態列顯示：**「11 字」**（7 個中文字 + 4 個英文單字）
- ✅ hover 字數顯示詳細資訊（含/不含空格的字元數）

---

#### C. 選取文字

**測試步驟**:
1. 在編輯器中選取一段文字（例如：「測試文章」）

**預期結果**:
- ✅ 狀態列顯示：**「已選取 4 字元」**

---

#### D. 段落數和閱讀時間

**測試步驟**:
1. 輸入多段文字（總共約 600 字）

**預期結果**:
- ✅ 狀態列顯示段落數：**「X 段」**
- ✅ 顯示閱讀時間：**「約 2 分鐘」**（每分鐘 300 字）

---

#### E. 編輯器選項切換

**測試步驟**:
1. 開啟預覽面板（Ctrl+/）
2. 點擊狀態列的「🔗 同步滾動」按鈕

**預期結果**:
- ✅ 按鈕變為啟用狀態（藍色）
- ✅ 編輯器滾動時，預覽面板同步滾動（功能待實作）

**其他按鈕測試**:
3. 點擊「# 行號」按鈕
4. 點擊「⟲ 換行」按鈕

**預期結果**:
- ✅ 按鈕狀態切換
- ✅ 發出對應的事件

---

### 5️⃣ 快捷鍵整合測試

#### 完整快捷鍵列表測試

| 快捷鍵 | 功能 | 測試步驟 | 預期結果 |
|--------|------|---------|---------|
| `Ctrl+Z` | 撤銷 | 修改內容後按下 | 內容恢復到上一狀態 |
| `Ctrl+Shift+Z` | 重做 | 撤銷後按下 | 內容重新出現 |
| `Ctrl+S` | 儲存 | 修改內容後按下 | 立即儲存 |
| `Ctrl+F` | 搜尋 | 按下 | 搜尋面板開啟 |
| `Ctrl+H` | 替換 | 按下 | 搜尋面板開啟（含替換列） |
| `Ctrl+B` | 粗體 | 選取文字後按下 | 文字變為 `**文字**` |
| `Ctrl+I` | 斜體 | 選取文字後按下 | 文字變為 `*文字*` |
| `Ctrl+K` | 連結 | 選取文字後按下 | 文字變為 `[[文字]]` |
| `Ctrl+E` | 高亮 | 選取文字後按下 | 文字變為 `==文字==` |
| `Ctrl+/` | 預覽 | 按下 | 切換預覽面板 |

---

## 🐛 已知問題記錄

測試時如果發現問題，請記錄在此：

### 問題 1: [描述]
- **重現步驟**: 
- **預期行為**: 
- **實際行為**: 
- **截圖**: 

---

## ✅ 測試完成確認

完成所有測試後，請勾選：

- [ ] UI 改善（文章列表、工具列、儲存指示器）
- [ ] Undo/Redo 功能（撤銷、重做、歷史管理）
- [ ] 搜尋/替換功能（基本搜尋、選項、導航、替換）
- [ ] 編輯器狀態列（游標位置、字數、選項切換）
- [ ] 快捷鍵整合（所有快捷鍵正常工作）

---

## 📊 測試結果總結

測試完成後，填寫結果：

| 功能 | 狀態 | 備註 |
|-----|------|------|
| UI 改善 | ✅/❌ |  |
| Undo/Redo | ✅/❌ |  |
| 搜尋/替換 | ✅/❌ |  |
| 編輯器狀態列 | ✅/❌ |  |
| 快捷鍵 | ✅/❌ |  |

**整體評價**: ⭐⭐⭐⭐⭐ (1-5 星)

**改進建議**:
- 

---

完成測試後，如果所有功能正常，就可以提交 commit 了！
