# Bug Fix 報告指南

本資料夾存放所有 Bug Fix 的詳細報告。

## 📁 檔案命名規則

```
YYYY-MM-DD-簡短問題描述.md
```

**範例**：
- `2026-01-26-editor-line-numbers.md`
- `2026-01-26-article-category-mapping.md`

## 📝 報告格式

每個報告必須包含以下部分：

```markdown
# [標題] Bug Fix 報告

**日期**: YYYY-MM-DD
**影響範圍**: [編輯器/文章管理/服務層/UI/...]
**嚴重程度**: [Critical/High/Medium/Low]

## 問題描述

### 問題現象
[具體描述使用者遇到的問題]

### 發生條件
[問題發生的條件和環境]

### 影響範圍
[問題影響的功能和範圍]

### 重現步驟
1. [步驟 1]
2. [步驟 2]
3. [觀察結果]

## 原因分析

### 程式碼層面問題
[展示有問題的程式碼]

### 根本原因
[深入分析為什麼會發生這個問題]

### 相關技術細節
[相關的技術背景知識]

## 修正方式

### 修改的檔案
[列出修改的檔案]

### 修改的邏輯
[詳細說明修改了什麼]

### 為什麼這個方案能解決問題
[解釋修正邏輯]

### 其他替代方案
[討論其他可能的方案及選擇理由]

## 相關 Commit

- commit_hash: commit 訊息
```

## 🔄 補充現有報告

### 何時補充而非新建

如果遇到以下情況，**補充現有報告**而非建立新檔案：

✅ **應該補充**：
- 同一個功能模組的問題
- 原修復的遺漏或不完整
- 驗證時發現的追加問題
- 同一根本原因的不同表現

❌ **應該新建**：
- 完全不同的功能模組
- 不同的根本原因
- 獨立的新問題

### 補充格式

在原報告**底部**加入：

```markdown
---

## 追加修復 (YYYY-MM-DD)

### 發現的新問題

[描述在使用者驗證時發現的問題或遺漏的部分]

**為什麼原修復不完整**：
[分析原因]

### 原因分析

[針對新發現問題的分析]

### 追加修正方式

**修改的檔案**：
[列出檔案]

**修改的邏輯**：
[說明追加的修改]

### 相關 Commit

- commit_hash: commit 訊息

### 驗證結果

- [ ] 原問題已解決
- [ ] 新發現的問題已解決
- [ ] 無副作用
- [ ] 使用者驗證通過
```

## ✅ 使用者驗證流程

**重要：所有 Bug Fix 必須經過使用者驗證**

### AI 助手流程

1. **修復完成後**：
   ```bash
   git push origin fix/問題描述
   ```

2. **撰寫報告**：
   - 建立或更新 `docs/fix-bug/YYYY-MM-DD-問題.md`

3. **通知使用者**：
   ```
   我已完成修復並推送到 fix/問題描述 分支

   Bug Fix 報告：docs/fix-bug/YYYY-MM-DD-問題.md

   請您驗證以下項目：
   1. [具體的驗證步驟]
   2. [需要檢查的功能]
   3. [確認沒有副作用]

   驗證通過後我會合併到 develop 分支
   ```

4. **等待驗證**：
   - ⚠️ **不要主動合併**
   - 等待使用者明確表示驗證通過

5. **處理驗證結果**：
   - ✅ 通過：合併分支
   - ❌ 失敗：追加修復，更新報告

### 使用者驗證清單

- [ ] 能重現原始問題（修復前）
- [ ] 修復後問題不再發生
- [ ] 相關功能正常運作
- [ ] 沒有產生新的問題
- [ ] Bug Fix 報告描述準確

### 驗證失敗的處理

如果驗證時發現問題：

1. **在同一分支追加修復**：
   ```bash
   git checkout fix/問題描述
   # 追加修復...
   git commit -m "fix(...): 追加修正 - [具體問題]"
   ```

2. **更新 Bug Fix 報告**：
   - 在原報告底部加入「追加修復」章節
   - 說明為什麼原修復不完整
   - 記錄追加的修正

3. **再次請使用者驗證**

## 📊 報告品質標準

### 優秀的 Bug Fix 報告應該：

✅ **問題描述清晰**：
- 任何人都能理解問題
- 包含具體的重現步驟
- 說明影響範圍

✅ **原因分析深入**：
- 不只是表面現象
- 找到根本原因
- 解釋技術細節

✅ **修正方式完整**：
- 說明修改了什麼
- 解釋為什麼能解決
- 討論其他方案

✅ **可追溯**：
- 關聯相關 Commit
- 包含驗證結果
- 記錄追加修復（如有）

### 避免的問題

❌ **描述籠統**：
- "修復了一些問題" → 具體是什麼問題？
- "改了一些程式碼" → 改了哪裡？為什麼？

❌ **分析膚淺**：
- 只說現象，不說原因
- 沒有技術細節
- 無法幫助理解

❌ **缺少驗證**：
- 沒有記錄驗證步驟
- 沒有確認副作用
- 沒有使用者確認

## 📚 範例報告

本資料夾中的現有報告可作為參考：

- `2026-01-26-editor-line-numbers.md` - 展示如何分析 CSS 佈局問題
- `2026-01-26-article-category-mapping.md` - 展示如何分析資料映射邏輯
- `2026-01-26-article-list-jump.md` - 展示如何分析 Vue 響應式問題

## 🔍 查找相關報告

使用檔案名稱或內容搜尋：

```bash
# 搜尋特定功能模組
grep -r "editor" docs/fix-bug/
grep -r "article" docs/fix-bug/

# 搜尋特定日期
ls docs/fix-bug/2026-01-*

# 搜尋特定關鍵字
grep -r "frontmatter" docs/fix-bug/
```

## 📞 需要協助？

如有任何關於 Bug Fix 報告的問題：
1. 參考現有報告作為範例
2. 遵循本指南的格式
3. 確保經過使用者驗證

---

**維護者**：專案開發團隊
**最後更新**：2026-01-26
