# 產品規劃文件

> **版本**：1.0
> **日期**：2026-01-24
> **目的**：確保開發不偏離初衷

---

## 📌 產品願景

### 核心問題
寫作者在使用靜態網站生成器（Astro/Hugo/Hexo等）撰寫部落格時面臨的痛點：
1. **Wiki Link 轉換**：在寫作工具（如 Obsidian）使用 `[[]]` 語法，但部落格不支援
2. **圖片管理混亂**：寫作時圖片集中管理，但部落格需要分散在各文章資料夾
3. **發布流程繁瑣**：手動轉換、複製、git commit、push

### 產品願景
**讓部落格寫作者專注於內容創作，一鍵完成發布**

不是另一個 Obsidian，不是另一個 Notion，而是：
> **專為靜態網站部落格設計的 Markdown 編輯器與發布工具**

---

## 🎯 產品定位

### 是什麼
- Markdown 編輯器（支援 Wiki Link 語法）
- 部落格內容管理工具
- 自動化發布工具（本地轉換 + Git 自動化）

### 不是什麼
- ❌ 不是筆記管理工具（不做知識圖譜、雙向連結視覺化）
- ❌ 不是 Obsidian 的替代品
- ❌ 不是通用 Markdown 編輯器（專注於部落格場景）
- ❌ 不綁定任何特定框架（但優先支援主流靜態網站生成器）

### 差異化優勢
1. **寫作時自由使用 Wiki Link**，發布時自動轉換
2. **圖片統一管理**，發布時自動分配到正確位置
3. **一鍵發布**，自動處理 git commit/push

---

## 👥 目標用戶

### 主要用戶
- 使用 Astro/Hugo/Hexo/Jekyll 等靜態網站的部落客
- 習慣使用 Markdown 寫作
- 希望文章之間可以互相引用（Wiki Link）
- 不想花時間處理發布流程

### 次要用戶
- 從 Obsidian 遷移到獨立編輯器的用戶
- 需要離線寫作環境的部落客
- 重視寫作體驗勝於複雜功能的用戶

### 非目標用戶
- 需要複雜知識管理功能的用戶 → 請用 Obsidian
- 需要團隊協作的用戶 → 請用 Notion
- 使用 WordPress 等動態網站的用戶 → 不適用

---

## 🔑 核心功能（必須保持簡單）

### 1. 寫作環境
- [x] Markdown 編輯器
- [x] 即時預覽
- [x] Wiki Link 語法支援 `[[文章標題]]`
- [x] 圖片插入 `![[image.png]]`
- [x] Frontmatter 編輯
- [x] 文章列表與搜尋

### 2. 文章管理
- [x] 文章存放在獨立資料夾（與部落格專案分離）
- [x] 草稿與已發布狀態管理
- [x] 文章分類與標籤
- [ ] 新增/刪除/重新命名文章

### 3. 圖片管理
- [x] 統一圖片資料夾
- [x] 圖片插入輔助
- [x] 發布時自動複製到文章專屬 images 資料夾
- [ ] 圖片預覽與管理面板

### 4. 一鍵發布（核心價值）
```
點擊「發布」→ 自動完成：
1. 轉換 Wiki Links → 標準 Markdown 連結
2. 轉換圖片語法 → 相對路徑
3. 複製圖片到部落格專案的正確位置
4. 複製文章到部落格內容目錄
5. 執行 git add、commit、push
6. 完成！
```

**實作方式**：
- 本地轉換（方案 A）
- 在部落格專案目錄執行 Git 操作
- 自動生成符合 Conventional Commits 的 commit message

---

## 🚫 非核心功能（避免功能膨脹）

### 明確不做的功能
- ❌ **AI 寫作助手**（偏離焦點，且成本高）
- ❌ **知識圖譜視覺化**（那是 Obsidian 的工作）
- ❌ **雙向連結面板**（增加複雜度，價值低）
- ❌ **外掛系統**（初期不需要）
- ❌ **多人協作**（靜態部落格不需要）
- ❌ **雲端同步**（用戶可以自己用 Git/Dropbox）
- ❌ **主題商店**（UI 簡潔就好）

### 可選功能（低優先順序）
- ⭕ 開發伺服器整合（目前已有，保留）
- ⭕ SEO 分析（簡單提示即可，不要做複雜分析）
- ⭕ 備份功能（目前已有，保留）
- ⭕ 匯入匯出（未來可加入）

---

## 🗺️ 用戶旅程

### 首次使用
1. 下載安裝軟體
2. 開啟設定，指定：
   - 文章存放資料夾（可以是任意位置）
   - 部落格專案路徑（Astro/Hugo/...）
   - 圖片資料夾（可選，預設為文章資料夾下的 images）
3. 開始寫作

### 日常寫作
1. 開啟軟體
2. 新增文章或開啟現有文章
3. 使用 Wiki Link 引用其他文章 `[[另一篇文章]]`
4. 插入圖片 `![[screenshot.png]]`（圖片放在統一資料夾）
5. 編輯 Frontmatter（標題、分類、標籤等）
6. 儲存（自動儲存）

### 發布流程
1. 確認文章內容
2. 點擊「發布」按鈕
3. （可選）編輯 commit message
4. 確認發布
5. 軟體自動：
   - 轉換語法
   - 複製檔案
   - Git commit & push
6. 完成！等待部落格 CI/CD 自動部署

---

## 🏗️ 技術架構原則

### 1. 分離關注點
```
文章庫（用戶管理）
├── articles/          ← Wiki Link 語法
├── images/           ← 統一管理
└── drafts/           ← 草稿

部落格專案（Git 管理）
├── src/content/blog/ ← 標準 Markdown
├── public/
└── .git
```

### 2. 適配器模式（支援多框架）
```typescript
interface BlogAdapter {
  name: string
  convertWikiLink(link: string): string
  processImage(image: string): string
  convertFrontmatter(fm: Frontmatter): any
}

// 實作
- AstroAdapter
- HugoAdapter (未來)
- HexoAdapter (未來)
```

### 3. Git 自動化
```typescript
async function publish(article: Article) {
  // 1. 轉換內容
  const converted = adapter.convert(article)

  // 2. 寫入部落格專案
  await copyToBlog(converted)

  // 3. Git 操作（在部落格專案目錄）
  await git.add('.')
  await git.commit(`publish: ${article.title}`)
  await git.push()
}
```

### 4. 保持輕量
- 核心功能優先
- 避免過度設計
- UI 簡潔明確

---

## 📅 開發路線圖

### Phase 1：重構與簡化（當前階段）
**目標**：回歸初衷，移除非核心功能

- [ ] 移除 Obsidian 相關字眼和概念
- [ ] 重構設定面板（通用化）
- [ ] 實作 Adapter 模式
- [ ] 實作 Git 自動化發布
- [ ] 更新 UI 文案（強調「部落格寫作工具」）
- [ ] 更新 README 與產品定位

**完成標準**：
- 不提及 Obsidian
- 一鍵發布可用
- 支援 Astro

### Phase 2：優化體驗
**目標**：提升核心功能的完成度

- [ ] 新增文章流程優化
- [ ] 圖片管理面板
- [ ] 發布前預覽（顯示將要 commit 的檔案）
- [ ] 錯誤提示改善
- [ ] 效能優化

### Phase 3：擴展支援
**目標**：支援更多靜態網站生成器

- [ ] Hugo Adapter
- [ ] Hexo Adapter
- [ ] Jekyll Adapter
- [ ] 自訂 Adapter 設定

### Phase 4：進階功能（謹慎評估）
**目標**：錦上添花，但不偏離核心

- [ ] 匯入功能（從 Obsidian/其他工具）
- [ ] 簡單的 SEO 提示
- [ ] 文章統計（字數、閱讀時間）
- [ ] 快捷鍵自訂

---

## 📊 成功指標

### 產品指標
- 從寫作到發布的平均時間 < 30 秒（不含寫作時間）
- 用戶首次使用到發布第一篇文章 < 5 分鐘
- Wiki Link 轉換準確率 > 99%

### 用戶體驗指標
- 設定步驟 ≤ 3 步
- 發布按鈕點擊次數 = 1 次
- 錯誤發生率 < 1%

### 開發指標
- 核心功能程式碼覆蓋率 > 80%
- 新增功能必須通過「是否符合初衷」評估

---

## 🚦 決策指南

當考慮新增功能時，問自己：

### ✅ 應該做，如果：
1. 能讓「寫作 → 發布」流程更順暢
2. 解決靜態網站部落客的共同痛點
3. 不增加設定複雜度
4. 符合「簡單、專注、自動化」原則

### ❌ 不應該做，如果：
1. 功能是「筆記管理」而非「部落格寫作」
2. 需要複雜的設定或學習成本
3. 偏離「一鍵發布」的核心價值
4. 已經有成熟工具（如 Obsidian 的知識管理）

### 🤔 需要討論，如果：
1. 功能可能讓軟體變複雜
2. 不確定是否符合目標用戶需求
3. 實作成本高且價值不明確

---

## 📝 附錄：產品定位一句話

> **Markdown 部落格寫作與發布工具，支援 Wiki Link，一鍵發布到靜態網站**

當迷失方向時，回到這句話。

---

## 🔄 文件維護

- 每次重大功能決策後更新此文件
- 每季度回顧一次產品方向
- 當收到用戶反饋時，評估是否調整定位
- **永遠記住**：簡單 > 功能豐富

---

**最後提醒**：
如果一個功能讓用戶覺得「這太複雜了」，就不要做。
如果一個功能讓開發者覺得「這偏離初衷了」，就不要做。

保持專注，保持簡單。
